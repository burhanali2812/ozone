{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///E:/React%20Projects/NEXTJS%20PROJECTS/OZONE/ozone-water-1/lib/db.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst connectionDb = async () => {\r\n  if (mongoose.connections[0].readyState) {\r\n    console.log(\"MongoDB already connected\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    await mongoose.connect(process.env.MONGO_URI); \r\n    console.log(\"MongoDB connected successfully\");\r\n  } catch (err) {\r\n    console.error(\"MongoDB connection failed:\", err);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport default connectionDb;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,eAAe;IACnB,IAAI,oHAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE;QACtC,QAAQ,GAAG,CAAC;QACZ;IACF;IAEA,IAAI;QACF,MAAM,oHAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,SAAS;QAC5C,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,MAAM;IACR;AACF;uCAEe"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///E:/React%20Projects/NEXTJS%20PROJECTS/OZONE/ozone-water-1/models/Stock.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst StockSchema = new mongoose.Schema({\r\n    productSize: {\r\n        type: String,\r\n        required: true, \r\n    },\r\n    producyType: {\r\n        type: String,\r\n        required: true,\r\n        enum: [\"bottle\", \"pet\"],\r\n    },\r\n    quantity: {\r\n        type: Number,\r\n        required: true,\r\n        default: 0,\r\n    },\r\n    costPerType: {\r\n        type: Number,\r\n        required: true,\r\n    },\r\n}, { timestamps: true });\r\n\r\nconst Stock = mongoose.models.Stock || mongoose.model(\"Stock\", StockSchema);\r\nexport default Stock;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACpC,aAAa;QACT,MAAM;QACN,UAAU;IACd;IACA,aAAa;QACT,MAAM;QACN,UAAU;QACV,MAAM;YAAC;YAAU;SAAM;IAC3B;IACA,UAAU;QACN,MAAM;QACN,UAAU;QACV,SAAS;IACb;IACA,aAAa;QACT,MAAM;QACN,UAAU;IACd;AACJ,GAAG;IAAE,YAAY;AAAK;AAEtB,MAAM,QAAQ,oHAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,oHAAQ,CAAC,KAAK,CAAC,SAAS;uCAChD"}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///E:/React%20Projects/NEXTJS%20PROJECTS/OZONE/ozone-water-1/src/app/api/stock/route.js"],"sourcesContent":["import connectionDb from \"../../../../lib/db\";\r\nimport Stock from \"../../../../models/Stock\";\r\n\r\nexport async function POST(request) {\r\n  try {\r\n    await connectionDb();\r\n    const { productSize, producyType, quantity, costPerType } = await request.json();\r\n\r\n    if (!productSize || !producyType || quantity === undefined || costPerType === undefined) {\r\n        return new Response(JSON.stringify({ message: \"All fields are required\" }), { status: 400 });\r\n    }\r\n    const newStock = new Stock({\r\n        productSize,\r\n        producyType,\r\n        quantity,\r\n        costPerType,\r\n    });\r\n    await newStock.save();\r\n\r\n    return new Response(JSON.stringify({ message: \"Stock added successfully\", stock: newStock }), { status: 201 });\r\n  } catch (error) {\r\n    console.error(\"Error adding stock:\", error);\r\n    return new Response(JSON.stringify({ message: \"Internal Server Error\" }), { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function GET(request) {\r\n  try {\r\n    await connectionDb();\r\n    const stocks = await Stock.find().sort({ createdAt: -1 });\r\n    return new Response(JSON.stringify({ stocks }), { status: 200 });\r\n  } catch (error) {\r\n    console.error(\"Error fetching stocks:\", error);\r\n    return new Response(JSON.stringify({ message: \"Internal Server Error\" }), { status: 500 });\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,IAAA,sJAAY;QAClB,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE9E,IAAI,CAAC,eAAe,CAAC,eAAe,aAAa,aAAa,gBAAgB,WAAW;YACrF,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,SAAS;YAA0B,IAAI;gBAAE,QAAQ;YAAI;QAC9F;QACA,MAAM,WAAW,IAAI,4JAAK,CAAC;YACvB;YACA;YACA;YACA;QACJ;QACA,MAAM,SAAS,IAAI;QAEnB,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,SAAS;YAA4B,OAAO;QAAS,IAAI;YAAE,QAAQ;QAAI;IAC9G,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,SAAS;QAAwB,IAAI;YAAE,QAAQ;QAAI;IAC1F;AACF;AAEO,eAAe,IAAI,OAAO;IAC/B,IAAI;QACF,MAAM,IAAA,sJAAY;QAClB,MAAM,SAAS,MAAM,4JAAK,CAAC,IAAI,GAAG,IAAI,CAAC;YAAE,WAAW,CAAC;QAAE;QACvD,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE;QAAO,IAAI;YAAE,QAAQ;QAAI;IAChE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,SAAS;QAAwB,IAAI;YAAE,QAAQ;QAAI;IAC1F;AACF"}}]
}