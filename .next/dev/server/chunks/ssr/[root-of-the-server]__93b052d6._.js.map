{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///E:/React%20Projects/NEXTJS%20PROJECTS/OZONE/ozone-water-1/src/app/order/page.jsx"],"sourcesContent":["\"use client\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast, Toaster } from \"react-hot-toast\";\r\n\r\nexport default function Order() {\r\n  const router = useRouter();\r\n  const [user, setUser] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    shopName: \"\",\r\n    shopAddress: \"\",\r\n    whatsappContact: \"\",\r\n  });\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [currentOrder, setCurrentOrder] = useState({\r\n    type: \"500ml\",\r\n    quantity: \"\",\r\n    customPrice: \"\",\r\n  });\r\n\r\n  const [paymentStatus, setPaymentStatus] = useState(\"unpaid\");\r\n  const [paidAmount, setPaidAmount] = useState(0);\r\n\r\n  const productPrices = {\r\n    \"500ml\": 290,\r\n    \"1500ml\": 300,\r\n    \"6liter\": 120,\r\n  };\r\n\r\n  // Check for user in localStorage\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem(\"user2\");\r\n    if (storedUser) {\r\n      setUser(JSON.parse(storedUser));\r\n    }\r\n  }, []);\r\n\r\n  const handleFormChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleAddOrder = () => {\r\n    const qty = parseInt(currentOrder.quantity);\r\n    const price =\r\n      parseFloat(currentOrder.customPrice) || productPrices[currentOrder.type];\r\n\r\n    if (qty > 0 && price > 0) {\r\n      const existingOrderIndex = orders.findIndex(\r\n        (order) => order.type === currentOrder.type && order.price === price\r\n      );\r\n\r\n      if (existingOrderIndex !== -1) {\r\n        const updatedOrders = [...orders];\r\n        updatedOrders[existingOrderIndex].quantity += qty;\r\n        setOrders(updatedOrders);\r\n      } else {\r\n        setOrders([\r\n          ...orders,\r\n          { type: currentOrder.type, quantity: qty, price: price },\r\n        ]);\r\n      }\r\n\r\n      setCurrentOrder({ type: \"500ml\", quantity: \"\", customPrice: \"\" });\r\n    } else {\r\n      toast.error(\"Please enter a valid quantity and price\");\r\n    }\r\n  };\r\n\r\n  const handleRemoveOrder = (index) => {\r\n    setOrders(orders.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleUpdateQuantity = (index, newQuantity) => {\r\n    const updatedOrders = [...orders];\r\n    updatedOrders[index].quantity = newQuantity;\r\n    setOrders(updatedOrders);\r\n  };\r\n\r\n  const handleUpdatePrice = (index, newPrice) => {\r\n    const updatedOrders = [...orders];\r\n    updatedOrders[index].price =\r\n      parseFloat(newPrice) || productPrices[updatedOrders[index].type];\r\n    setOrders(updatedOrders);\r\n  };\r\n\r\n  const calculateTotal = () => {\r\n    return orders.reduce((total, order) => {\r\n      const qty = parseInt(order.quantity) || 0;\r\n      const price = order.price || productPrices[order.type];\r\n      return total + price * qty;\r\n    }, 0);\r\n  };\r\n\r\n  const calculateRemaining = () => {\r\n    return calculateTotal() - paidAmount;\r\n  };\r\n\r\nconst handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n\r\n  const total = calculateTotal();\r\n\r\n  let finalPaymentStatus = paymentStatus;\r\n  let finalPaidAmount = paidAmount;\r\n  let finalRemainingAmount = total;\r\n\r\n  // Calculate remaining amount based on payment status\r\n  if (paymentStatus === \"paid\") {\r\n    finalPaidAmount = total;\r\n    finalRemainingAmount = 0;\r\n  } else if (paymentStatus === \"partially-paid\") {\r\n    finalRemainingAmount = total - paidAmount;\r\n  } else {\r\n    finalPaidAmount = 0;\r\n    finalRemainingAmount = total;\r\n  }\r\n\r\n  const orderPayload = {\r\n    shopName: formData.shopName,\r\n    shopAddress: formData.shopAddress,\r\n    shopContact: formData.whatsappContact,\r\n    orderItems: orders.map((order) => ({\r\n      size: order.type,\r\n      quantity: order.quantity,\r\n      price: order.price || productPrices[order.type],\r\n    })),\r\n    totalPrice: total,\r\n    paymentStatus: finalPaymentStatus,\r\n    paidAmount: finalPaidAmount,\r\n    remainingAmount: finalRemainingAmount,\r\n    status: \"pending\",\r\n  };\r\n\r\n  console.log(\"Order Submitted:\", orderPayload);\r\n\r\n  try {\r\n    // Create Order\r\n    const res = await axios.post(\"/api/orders\", orderPayload);\r\n\r\n    if (!res.data?.message) {\r\n      toast.error(\"Order creation failed\");\r\n      return;\r\n    }\r\n\r\n    // Success Handling\r\n    toast.success(res.data.message || \"Order placed successfully!\");\r\n\r\n    localStorage.setItem(\"receiptType\", \"order-placed\");\r\n    localStorage.setItem(\"currentOrder\", JSON.stringify(res.data.order));\r\n\r\n    setFormData({\r\n      shopName: \"\",\r\n      shopAddress: \"\",\r\n      whatsappContact: \"\",\r\n    });\r\n    setOrders([]);\r\n    setPaymentStatus(\"unpaid\");\r\n    setPaidAmount(0);\r\n\r\n    if (user) {\r\n      router.push(\"/receipt\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Order submission error:\", error);\r\n\r\n    // Backend responded with an error\r\n    if (error.response) {\r\n      toast.error(error.response.data?.message || \"Order placement failed\");\r\n      return;\r\n    }\r\n\r\n    // Server not responding\r\n    if (error.request) {\r\n      toast.error(\"Server not responding. Please try again later.\");\r\n      return;\r\n    }\r\n\r\n    // Unknown error\r\n    toast.error(\"Unexpected error occurred\");\r\n  }\r\n};\r\n\r\n\r\n\r\n  const total = calculateTotal();\r\n  const remaining = calculateRemaining();\r\n\r\n  // Check if form is valid for submission\r\n  const isFormValid = () => {\r\n    return (\r\n      formData.shopName.trim() !== \"\" &&\r\n      formData.shopAddress.trim() !== \"\" &&\r\n      formData.whatsappContact.trim() !== \"\" &&\r\n      orders.length > 0 &&\r\n      orders.every((order) => {\r\n        const qty = parseInt(order.quantity);\r\n        return qty > 0;\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section className=\"w-full min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 py-12\">\r\n      <Toaster />\r\n      <div className=\"container mx-auto px-6\">\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 mb-2\">\r\n            Place Your Order\r\n          </h1>\r\n          <p className=\"text-xl text-gray-600\">OZONE Mineral Water</p>\r\n          {user && (\r\n            <p className=\"text-sm text-gray-500 mt-2\">\r\n              Logged in as: {user.name} ({user.role})\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"grid lg:grid-cols-3 gap-8\">\r\n            {/* Order Form Section */}\r\n            <div className=\"lg:col-span-2 space-y-6\">\r\n              {/* Shop Details Card */}\r\n              <div className=\"bg-white rounded-3xl shadow-xl p-8\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\r\n                  Shop Details\r\n                </h2>\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-gray-700 font-medium mb-2\">\r\n                      Shop Name *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"shopName\"\r\n                      required\r\n                      value={formData.shopName}\r\n                      onChange={handleFormChange}\r\n                      className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-600 focus:outline-none\"\r\n                      placeholder=\"Enter shop name\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-gray-700 font-medium mb-2\">\r\n                      Shop Address *\r\n                    </label>\r\n                    <textarea\r\n                      name=\"shopAddress\"\r\n                      required\r\n                      value={formData.shopAddress}\r\n                      onChange={handleFormChange}\r\n                      rows=\"3\"\r\n                      className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-600 focus:outline-none resize-none\"\r\n                      placeholder=\"Enter complete address\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-gray-700 font-medium mb-2\">\r\n                      WhatsApp Contact *\r\n                    </label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      name=\"whatsappContact\"\r\n                      required\r\n                      value={formData.whatsappContact}\r\n                      onChange={handleFormChange}\r\n                      className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-600 focus:outline-none\"\r\n                      placeholder=\"03XX-XXXXXXX\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Add Order Card */}\r\n              <div className=\"bg-white rounded-3xl shadow-xl p-8\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\r\n                  Add Products\r\n                </h2>\r\n                <div className=\"flex flex-col sm:flex-row gap-4 mb-6\">\r\n                  <div className=\"flex-1\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\">\r\n                      Product Type / Pet Price\r\n                    </label>\r\n                    <select\r\n                      value={currentOrder.type}\r\n                      onChange={(e) =>\r\n                        setCurrentOrder({\r\n                          ...currentOrder,\r\n                          type: e.target.value,\r\n                          customPrice: \"\",\r\n                        })\r\n                      }\r\n                      className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-600 focus:outline-none\"\r\n                    >\r\n                      <option value=\"500ml\">500ml Bottle - Rs. 290/-</option>\r\n                      <option value=\"1500ml\">1500ml Bottle - Rs. 300/-</option>\r\n                      <option value=\"6liter\">6 Liter Bottle - Rs. 120/-</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"w-full sm:w-32\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\">\r\n                      Custom Price\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      value={currentOrder.customPrice}\r\n                      onChange={(e) =>\r\n                        setCurrentOrder({\r\n                          ...currentOrder,\r\n                          customPrice: e.target.value,\r\n                        })\r\n                      }\r\n                      placeholder={productPrices[currentOrder.type]}\r\n                      className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-600 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"w-full sm:w-32\">\r\n                    <label className=\"block text-gray-700 font-medium mb-2\">\r\n                      Pet Quantity\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      value={currentOrder.quantity}\r\n                      onChange={(e) =>\r\n                        setCurrentOrder({\r\n                          ...currentOrder,\r\n                          quantity: e.target.value,\r\n                        })\r\n                      }\r\n                      placeholder=\"Enter quantity\"\r\n                      className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-600 focus:outline-none\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex items-end\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleAddOrder}\r\n                      className=\"w-full sm:w-auto bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium\"\r\n                    >\r\n                      Add to Cart\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Current Orders List */}\r\n                {orders.length > 0 && (\r\n                  <div className=\"space-y-3\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                      Cart Items\r\n                    </h3>\r\n                    {orders.map((order, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className=\"flex items-center justify-between bg-gray-50 p-4 rounded-lg\"\r\n                      >\r\n                        <div className=\"flex-1\">\r\n                          <p className=\"font-medium text-gray-900\">\r\n                            {order.type === \"500ml\" && \"500ml Bottle\"}\r\n                            {order.type === \"1500ml\" && \"1500ml Bottle\"}\r\n                            {order.type === \"6liter\" && \"6 Liter Bottle\"}\r\n                          </p>\r\n                          <p className=\"text-sm text-gray-600\">\r\n                            Rs. {order.price || productPrices[order.type]}/- Ã—{\" \"}\r\n                            {order.quantity} = Rs.\r\n                            {(order.price || productPrices[order.type]) *\r\n                              order.quantity}\r\n                            /-\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <div>\r\n                            <label className=\"text-xs text-gray-600\">\r\n                              Price\r\n                            </label>\r\n                            <input\r\n                              type=\"number\"\r\n                              min=\"0\"\r\n                              value={order.price || productPrices[order.type]}\r\n                              onChange={(e) =>\r\n                                handleUpdatePrice(index, e.target.value)\r\n                              }\r\n                              onBlur={(e) => {\r\n                                const price = parseFloat(e.target.value);\r\n                                if (!price || price < 0) {\r\n                                  handleUpdatePrice(\r\n                                    index,\r\n                                    productPrices[order.type]\r\n                                  );\r\n                                }\r\n                              }}\r\n                              className=\"w-20 px-3 py-2 rounded border border-gray-300 focus:border-blue-600 focus:outline-none\"\r\n                            />\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"text-xs text-gray-600\">Qty</label>\r\n                            <input\r\n                              type=\"number\"\r\n                              min=\"1\"\r\n                              value={order.quantity}\r\n                              onChange={(e) =>\r\n                                handleUpdateQuantity(index, e.target.value)\r\n                              }\r\n                              onBlur={(e) => {\r\n                                const qty = parseInt(e.target.value);\r\n                                if (!qty || qty < 1) {\r\n                                  handleUpdateQuantity(index, 1);\r\n                                }\r\n                              }}\r\n                              className=\"w-20 px-3 py-2 rounded border border-gray-300 focus:border-blue-600 focus:outline-none\"\r\n                            />\r\n                          </div>\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => handleRemoveOrder(index)}\r\n                            className=\"text-red-600 hover:text-red-800 font-medium\"\r\n                          >\r\n                            Remove\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Payment Details Card - Only show if user is logged in */}\r\n              {user && (\r\n                <div className=\"bg-white rounded-3xl shadow-xl p-8\">\r\n                  <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\r\n                    Payment Details\r\n                  </h2>\r\n                  <div className=\"space-y-4\">\r\n                    <div>\r\n                      <label className=\"block text-gray-700 font-medium mb-2\">\r\n                        Payment Status\r\n                      </label>\r\n                      <select\r\n                        value={paymentStatus}\r\n                        onChange={(e) => {\r\n                          setPaymentStatus(e.target.value);\r\n                          if (e.target.value === \"paid\") {\r\n                            setPaidAmount(total);\r\n                          } else if (e.target.value === \"unpaid\") {\r\n                            setPaidAmount(0);\r\n                          }\r\n                        }}\r\n                        className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-600 focus:outline-none\"\r\n                      >\r\n                        <option value=\"unpaid\">Unpaid</option>\r\n                        <option value=\"partially-paid\">Partially Paid</option>\r\n                        <option value=\"paid\">Paid</option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    {paymentStatus === \"partially-paid\" && (\r\n                      <div>\r\n                        <label className=\"block text-gray-700 font-medium mb-2\">\r\n                          Paid Amount\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"0\"\r\n                          max={total}\r\n                          value={paidAmount}\r\n                          onChange={(e) =>\r\n                            setPaidAmount(\r\n                              Math.min(parseFloat(e.target.value) || 0, total)\r\n                            )\r\n                          }\r\n                          className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-blue-600 focus:outline-none\"\r\n                          placeholder=\"Enter paid amount\"\r\n                        />\r\n                        <p className=\"text-sm text-red-600 mt-2 font-medium\">\r\n                          Remaining: Rs. {remaining}/-\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Order Summary Sidebar */}\r\n            <div className=\"lg:col-span-1\">\r\n              <div className=\"bg-white rounded-3xl shadow-xl p-8 sticky top-24\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\r\n                  Order Summary\r\n                </h2>\r\n\r\n                <div className=\"space-y-4 mb-6\">\r\n                  {orders.length === 0 ? (\r\n                    <p className=\"text-gray-500 text-center py-8\">\r\n                      No items in cart\r\n                    </p>\r\n                  ) : (\r\n                    orders.map((order, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className=\"flex justify-between text-gray-700\"\r\n                      >\r\n                        <span>\r\n                          {order.type} Ã— {order.quantity}\r\n                        </span>\r\n                        <span className=\"font-medium\">\r\n                          Rs. {productPrices[order.type] * order.quantity}/-\r\n                        </span>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"border-t border-gray-200 pt-4 space-y-3\">\r\n                  <div className=\"flex justify-between text-lg font-semibold\">\r\n                    <span>Total Amount:</span>\r\n                    <span className=\"text-blue-600\">Rs. {total}/-</span>\r\n                  </div>\r\n\r\n                  {user && paymentStatus !== \"unpaid\" && (\r\n                    <>\r\n                      <div className=\"flex justify-between text-green-600\">\r\n                        <span>Paid:</span>\r\n                        <span>Rs. {paidAmount}/-</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between text-red-600 font-semibold\">\r\n                        <span>Remaining:</span>\r\n                        <span>Rs. {remaining}/-</span>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n\r\n                  <div className=\"pt-4\">\r\n                    <div\r\n                      className={`px-4 py-2 rounded-lg text-center font-medium ${\r\n                        user && paymentStatus === \"paid\"\r\n                          ? \"bg-green-100 text-green-700\"\r\n                          : user && paymentStatus === \"partially-paid\"\r\n                          ? \"bg-yellow-100 text-yellow-700\"\r\n                          : \"bg-red-100 text-red-700\"\r\n                      }`}\r\n                    >\r\n                      {user && paymentStatus === \"paid\" && \"Fully Paid\"}\r\n                      {user &&\r\n                        paymentStatus === \"partially-paid\" &&\r\n                        \"Partially Paid\"}\r\n                      {(!user || paymentStatus === \"unpaid\") &&\r\n                        \"Payment: Unpaid\"}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={!isFormValid()}\r\n                  className={`w-full mt-6 py-4 rounded-lg font-medium transition-all ${\r\n                    isFormValid()\r\n                      ? \"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-lg cursor-pointer\"\r\n                      : \"bg-gray-300 text-gray-500 cursor-not-allowed\"\r\n                  }`}\r\n                  title={\r\n                    !isFormValid()\r\n                      ? \"Please fill all required fields and add at least one item\"\r\n                      : \"Click to place order\"\r\n                  }\r\n                >\r\n                  {isFormValid()\r\n                    ? \"Place Order ðŸš€\"\r\n                    : \"Complete Form to Continue\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}