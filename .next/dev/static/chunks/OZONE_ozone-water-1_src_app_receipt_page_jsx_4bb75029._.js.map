{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/React%20Projects/NEXTJS%20PROJECTS/OZONE/ozone-water-1/src/app/receipt/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Toaster, toast } from \"react-hot-toast\";\r\nimport html2canvas from \"html2canvas\";\r\nimport jsPDF from \"jspdf\";\r\n\r\nexport default function Receipt() {\r\n  const router = useRouter();\r\n  const receiptRef = useRef(null);\r\n  const [orderData, setOrderData] = useState(null);\r\n  const [receiptType, setReceiptType] = useState(\"order-placed\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [generating, setGenerating] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const storedOrder = localStorage.getItem(\"currentOrder\");\r\n    const storedType = localStorage.getItem(\"receiptType\") || \"order-placed\";\r\n\r\n    if (storedOrder) {\r\n      try {\r\n        const parsedOrder = JSON.parse(storedOrder);\r\n        setOrderData(parsedOrder);\r\n        setReceiptType(storedType);\r\n      } catch (error) {\r\n        console.error(\"Error parsing order data:\", error);\r\n        toast.error(\"Failed to load receipt data\");\r\n      }\r\n    } else {\r\n      toast.error(\"No order data found\");\r\n      setTimeout(() => router.push(\"/\"), 2000);\r\n    }\r\n    setLoading(false);\r\n  }, [router]);\r\n\r\n  const getTypeConfig = (type) => {\r\n    const configs = {\r\n      \"order-placed\": {\r\n        title: \"Order Placed Successfully\",\r\n        icon: \"âœ…\",\r\n        color: \"#10b981\",\r\n      },\r\n      \"order-in-transit\": {\r\n        title: \"Order In Transit\",\r\n        icon: \"ðŸšš\",\r\n        color: \"#3b82f6\",\r\n      },\r\n      \"order-delivered\": {\r\n        title: \"Order Delivered\",\r\n        icon: \"ðŸ“¦\",\r\n        color: \"#a855f7\",\r\n      },\r\n      pending: {\r\n        title: \"Order Pending\",\r\n        icon: \"âš ï¸\",\r\n        color: \"#f59e0b\",\r\n      },\r\n    };\r\n    return configs[type] || configs[\"order-placed\"];\r\n  };\r\n\r\n  const getPaymentBadge = (status) => {\r\n    const badges = {\r\n      paid: { label: \"Paid\", color: \"#10b981\" },\r\n      unpaid: { label: \"Unpaid\", color: \"#ef4444\" },\r\n      \"partially-paid\": { label: \"Partially Paid\", color: \"#eab308\" },\r\n    };\r\n    return badges[status] || badges.unpaid;\r\n  };\r\n\r\n  const captureReceiptImage = async () => {\r\n    if (!receiptRef.current) return null;\r\n\r\n    try {\r\n      const canvas = await html2canvas(receiptRef.current, {\r\n        scale: 9,\r\n        useCORS: true,\r\n        allowTaint: true,\r\n        logging: false,\r\n        backgroundColor: \"#ffffff\",\r\n        windowWidth: receiptRef.current.scrollWidth,\r\n        windowHeight: receiptRef.current.scrollHeight,\r\n        scrollY: 0,\r\n        scrollX: 0,\r\n      });\r\n\r\n      return canvas.toDataURL(\"image/png\", 5.0);\r\n    } catch (error) {\r\n      console.error(\"Error capturing image:\", error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const generatePDF = async () => {\r\n    setGenerating(true);\r\n    try {\r\n      await new Promise((resolve) => setTimeout(resolve, 500));\r\n\r\n      const imgData = await captureReceiptImage();\r\n      if (!imgData) return null;\r\n\r\n      const pdf = new jsPDF({\r\n        orientation: \"portrait\",\r\n        unit: \"mm\",\r\n        format: \"a4\",\r\n        compress: true,\r\n      });\r\n\r\n      const img = new Image();\r\n      img.src = imgData;\r\n      await new Promise((resolve) => {\r\n        img.onload = resolve;\r\n      });\r\n\r\n      const pdfWidth = pdf.internal.pageSize.getWidth();\r\n      const pdfHeight = pdf.internal.pageSize.getHeight();\r\n      const imgWidth = pdfWidth;\r\n      const imgHeight = (img.height * pdfWidth) / img.width;\r\n\r\n      if (imgHeight <= pdfHeight) {\r\n        pdf.addImage(imgData, \"PNG\", 0, 0, imgWidth, imgHeight, \"\", \"FAST\");\r\n      } else {\r\n        let heightLeft = imgHeight;\r\n        let position = 0;\r\n\r\n        pdf.addImage(\r\n          imgData,\r\n          \"PNG\",\r\n          0,\r\n          position,\r\n          imgWidth,\r\n          imgHeight,\r\n          \"\",\r\n          \"FAST\"\r\n        );\r\n        heightLeft -= pdfHeight;\r\n\r\n        while (heightLeft > 0) {\r\n          position = heightLeft - imgHeight;\r\n          pdf.addPage();\r\n          pdf.addImage(\r\n            imgData,\r\n            \"PNG\",\r\n            0,\r\n            position,\r\n            imgWidth,\r\n            imgHeight,\r\n            \"\",\r\n            \"FAST\"\r\n          );\r\n          heightLeft -= pdfHeight;\r\n        }\r\n      }\r\n\r\n      return pdf;\r\n    } catch (error) {\r\n      console.error(\"Error generating PDF:\", error);\r\n      toast.error(\"Failed to generate PDF\");\r\n      return null;\r\n    } finally {\r\n      setGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleDownloadPDF = async () => {\r\n    const pdf = await generatePDF();\r\n    if (pdf) {\r\n      const fileName = `OZONE_Receipt_${orderData.shopName.replace(\r\n        /\\s+/g,\r\n        \"_\"\r\n      )}_${new Date().getTime()}.pdf`;\r\n      pdf.save(fileName);\r\n      toast.success(\"Receipt downloaded successfully!\");\r\n    }\r\n  };\r\n\r\n  const handleShareWhatsApp = async () => {\r\n    if (!orderData) return;\r\n\r\n    setGenerating(true);\r\n    try {\r\n      await new Promise((resolve) => setTimeout(resolve, 500));\r\n\r\n      const imgData = await captureReceiptImage();\r\n      if (!imgData) {\r\n        toast.error(\"Failed to capture receipt\");\r\n        setGenerating(false);\r\n        return;\r\n      }\r\n      const base64Response = await fetch(imgData);\r\n      const blob = await base64Response.blob();\r\n      const file = new File([blob], `OZONE_Receipt_${orderData.shopName}.png`, {\r\n        type: \"image/png\",\r\n      });\r\n\r\n      const whatsappNumber = orderData.shopContact;\r\n      console.log(\"WhatsApp Number:\", whatsappNumber);\r\n\r\n      if (navigator.canShare && navigator.canShare({ files: [file] })) {\r\n        try {\r\n          await navigator.share({\r\n            files: [file],\r\n            title: \"Order Receipt - OZONE Mineral Water\",\r\n            text: `Receipt for ${orderData.shopName}`,\r\n          });\r\n          toast.success(\"Shared successfully!\");\r\n        } catch (shareError) {\r\n          if (shareError.name !== \"AbortError\") {\r\n            openWhatsAppWithImage(whatsappNumber, imgData);\r\n          }\r\n        }\r\n      } else {\r\n        openWhatsAppWithImage(whatsappNumber, imgData);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error sharing:\", error);\r\n      toast.error(\"Failed to share receipt\");\r\n    } finally {\r\n      setGenerating(false);\r\n    }\r\n  };\r\n\r\n  const openWhatsAppWithImage = (whatsappNumber, imgData) => {\r\n    // Convert 03xx-xxxxxxx format to 923xxxxxxxxx\r\n    let formattedNumber = whatsappNumber.replace(/[-\\s]/g, \"\"); // Remove dashes and spaces\r\n    if (formattedNumber.startsWith(\"0\")) {\r\n      formattedNumber = \"92\" + formattedNumber.substring(1); // Replace leading 0 with 92\r\n    }\r\n\r\n    const typeConfig = getTypeConfig(receiptType);\r\n    const message =\r\n      `*ðŸŒŠ OZONE MINERAL WATER*\\n\\n` +\r\n      `${typeConfig.icon} *${typeConfig.title}*\\n` +\r\n      `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\\n\\n` +\r\n      `*Shop:* ${orderData.shopName}\\n` +\r\n      `*Address:* ${orderData.shopAddress}\\n` +\r\n      `*Contact:* ${orderData.shopContact}\\n\\n` +\r\n      `*Order Items:*\\n` +\r\n      orderData.orderItems\r\n        .map(\r\n          (item, idx) =>\r\n            `${idx + 1}. ${item.size} Ã— ${item.quantity} = Rs. ${\r\n              item.price * item.quantity\r\n            }/-`\r\n        )\r\n        .join(\"\\n\") +\r\n      `\\n\\n*Total:* Rs. ${orderData.totalPrice}/-\\n` +\r\n      `*Payment:* ${getPaymentBadge(orderData.paymentStatus).label}\\n` +\r\n      (orderData.paymentStatus === \"partially-paid\"\r\n        ? `*Paid:* Rs. ${orderData.paidAmount}/-\\n*Remaining:* Rs. ${orderData.remainingAmount}/-\\n`\r\n        : \"\") +\r\n      `\\nðŸ“¸ Receipt image attached\\nThank you! ðŸ’§`;\r\n\r\n    const whatsappUrl = `https://wa.me/${formattedNumber}?text=${encodeURIComponent(\r\n      message\r\n    )}`;\r\n\r\n    window.open(whatsappUrl, \"_blank\");\r\n    toast.success(\"Opening WhatsApp... Please attach the screenshot manually\");\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mx-auto mb-3\"></div>\r\n          <p className=\"text-sm text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!orderData) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen bg-gray-50\">\r\n        <div className=\"text-center bg-white p-6 rounded-xl shadow-lg max-w-sm\">\r\n          <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n            <svg\r\n              className=\"w-8 h-8 text-red-600\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n          <h2 className=\"text-lg font-bold text-gray-900 mb-2\">\r\n            No Receipt Found\r\n          </h2>\r\n          <p className=\"text-sm text-gray-600 mb-4\">\r\n            Unable to load receipt data\r\n          </p>\r\n          <button\r\n            onClick={() => router.push(\"/\")}\r\n            className=\"bg-blue-600 text-white text-sm px-5 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            Go Home\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const typeConfig = getTypeConfig(receiptType);\r\n  const paymentBadge = getPaymentBadge(orderData.paymentStatus);\r\n\r\n  return (\r\n    <section className=\"w-full min-h-screen bg-gray-50 py-4\">\r\n      <Toaster />\r\n\r\n      <div className=\"container mx-auto px-4 max-w-xl\">\r\n        {/* Action Buttons */}\r\n        <div className=\"flex flex-wrap gap-2 mb-3 justify-center\">\r\n          <button\r\n            onClick={handleDownloadPDF}\r\n            disabled={generating}\r\n            className=\"bg-blue-600 text-white text-xs px-3 py-2 rounded-lg hover:bg-blue-700 transition-all flex items-center gap-1.5 disabled:opacity-50\"\r\n          >\r\n            <svg\r\n              className=\"w-3.5 h-3.5\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\r\n              />\r\n            </svg>\r\n            {generating ? \"Generating...\" : \"Download\"}\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleShareWhatsApp}\r\n            disabled={generating}\r\n            className=\"bg-green-600 text-white text-xs px-3 py-2 rounded-lg hover:bg-green-700 transition-all flex items-center gap-1.5 disabled:opacity-50\"\r\n          >\r\n            <svg\r\n              className=\"w-3.5 h-3.5\"\r\n              fill=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\" />\r\n            </svg>\r\n            {generating ? \"Generating...\" : \"WhatsApp\"}\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => router.push(\"/orderDashboard\")}\r\n            className=\"bg-gray-200 text-gray-700 text-xs px-3 py-2 rounded-lg hover:bg-gray-300 transition-all\"\r\n          >\r\n            Home\r\n          </button>\r\n        </div>\r\n\r\n        {/* Receipt Card - Clean Text Only */}\r\n        <div\r\n          ref={receiptRef}\r\n          className=\"bg-white p-5 shadow-md rounded-md max-w-[400px] mx-auto font-sans\"\r\n        >\r\n          {/* Header */}\r\n          <div className=\"text-center mb-4\">\r\n            <h1 className=\"text-xl font-bold text-gray-900 tracking-wide\">\r\n              OZONE MINERAL WATER\r\n            </h1>\r\n            <p className=\"text-xs text-gray-500 uppercase tracking-wider mt-1\">\r\n              Sip the Good Life\r\n            </p>\r\n          </div>\r\n\r\n          {/* Status */}\r\n          <div className=\"text-center mb-4\">\r\n            <span\r\n              className=\"font-semibold text-sm uppercase\"\r\n              style={{ color: typeConfig.color }}\r\n            >\r\n              {typeConfig.title}\r\n            </span>\r\n          </div>\r\n\r\n          {/* Divider */}\r\n          <div className=\"border-t border-gray-300 my-4\"></div>\r\n\r\n          {/* Shop Details */}\r\n          <div className=\"mb-4\">\r\n            <h2 className=\"text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wide\">\r\n              Shop Details\r\n            </h2>\r\n            <div className=\"space-y-1 text-sm\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-500\">Name:</span>\r\n                <span className=\"font-medium text-gray-900 text-right max-w-[70%]\">\r\n                  {orderData.shopName}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-500\">Address:</span>\r\n                <span className=\"font-medium text-gray-900 text-right max-w-[70%]\">\r\n                  {orderData.shopAddress}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-500\">Contact:</span>\r\n                <span className=\"font-medium text-gray-900\">\r\n                  {orderData.shopContact}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"border-t border-gray-300 my-4\"></div>\r\n\r\n          {/* Order Items */}\r\n          <div className=\"mb-4\">\r\n            <h2 className=\"text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wide\">\r\n              Order Details\r\n            </h2>\r\n            <div className=\"space-y-2\">\r\n              {orderData.orderItems.map((item, index) => (\r\n                <div\r\n                  key={index}\r\n                  className=\"flex justify-between items-center text-sm\"\r\n                >\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className=\"text-gray-500\">{index + 1}.</span>\r\n                    <span className=\"font-medium text-gray-900\">\r\n                      {item.size}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <span className=\"text-gray-500 text-sm\">\r\n                      {item.quantity} Ã— Rs. {item.price} =\r\n                    </span>\r\n                    <span className=\"font-semibold text-gray-900 ml-1\">\r\n                      Rs. {item.price * item.quantity}/-\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              <div className=\"flex justify-between items-center pt-3 border-t border-gray-200 mt-2\">\r\n                <span className=\"font-semibold text-gray-900\">Total:</span>\r\n                <span className=\"text-lg font-bold text-gray-900\">\r\n                  Rs. {orderData.totalPrice}/-\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"border-t border-gray-300 my-4\"></div>\r\n\r\n          {/* Payment Details */}\r\n          <div className=\"mb-4\">\r\n            <h2 className=\"text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wide\">\r\n              Payment Details\r\n            </h2>\r\n            <div className=\"space-y-2 text-sm\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-500\">Status:</span>\r\n                <span\r\n                  className=\"font-semibold\"\r\n                  style={{ color: paymentBadge.color }}\r\n                >\r\n                  {paymentBadge.label}\r\n                </span>\r\n              </div>\r\n\r\n              {orderData.paymentStatus === \"paid\" && (\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-500\">Paid Amount:</span>\r\n                  <span className=\"font-semibold text-green-500\">\r\n                    Rs. {orderData.paidAmount}/-\r\n                  </span>\r\n                </div>\r\n              )}\r\n\r\n              {orderData.paymentStatus === \"partially-paid\" && (\r\n                <>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-500\">Paid:</span>\r\n                    <span className=\"font-semibold text-green-500\">\r\n                      Rs. {orderData.paidAmount}/-\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-500\">Remaining:</span>\r\n                    <span className=\"font-semibold text-red-500\">\r\n                      Rs. {orderData.remainingAmount}/-\r\n                    </span>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {orderData.paymentStatus === \"unpaid\" && (\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-gray-500\">Pending:</span>\r\n                  <span className=\"font-semibold text-red-500\">\r\n                    Rs. {orderData.totalPrice}/-\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"border-t border-gray-300 my-4\"></div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"text-center text-xs text-gray-500\">\r\n            <p>\r\n              OZONE Â© {new Date().toLocaleString()} | Thank you for your order!\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}